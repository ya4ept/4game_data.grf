tblLapineUpgradeBox = {
	targets = {
		EP17_1_SPC05 = {
			ItemID = 23776,
			NeedRefineMin = 0,
			NeedRefineMax = 20,
			NeedOptionNumMin = 0,
			NotSocketEnchantItem = true,
			TargetItems = {
				{ "Cannon_Rapier_OS", 13493 },
				{ "Beam_Claymore_OS", 21047 },
				{ "Rutilus_Stick_OS", 26151 },
				{ "Circuit_Board_OS", 28629 },
				{ "Blasti_OS", 28136 },
				{ "Saphir_Hall_OS", 16088 },
				{ "Virtual_Bow_OS", 18178 },
				{ "MH_P89_OS", 18179 },
				{ "Meuchler_OS", 28038 },
				{ "Burning_Knuckle_OS", 1862 },
				{ "HR_S55_OS", 28253 },
				{ "Kuroiro_OS", 28755 },
				{ "AC_B44_OS", 18180 },
				{ "Boost_Lance_OS", 32019 },
				{ "Ultio_Spes_OS", 16089 },
				{ "ElectricFox_OS", 26164 }
			},
			NeedSource_String = "OS Weapon"
		},
		EP17_1_SPC06 = {
			ItemID = 23777,
			NeedRefineMin = 0,
			NeedRefineMax = 20,
			NeedOptionNumMin = 0,
			NotSocketEnchantItem = true,
			TargetItems = {
				{ "Cannon_Rapier_OS", 13493 },
				{ "Beam_Claymore_OS", 21047 },
				{ "Rutilus_Stick_OS", 26151 },
				{ "Circuit_Board_OS", 28629 },
				{ "Blasti_OS", 28136 },
				{ "Saphir_Hall_OS", 16088 },
				{ "Virtual_Bow_OS", 18178 },
				{ "MH_P89_OS", 18179 },
				{ "Meuchler_OS", 28038 },
				{ "Burning_Knuckle_OS", 1862 },
				{ "HR_S55_OS", 28253 },
				{ "Kuroiro_OS", 28755 },
				{ "AC_B44_OS", 18180 },
				{ "Boost_Lance_OS", 32019 },
				{ "Ultio_Spes_OS", 16089 },
				{ "ElectricFox_OS", 26164 }
			},
			NeedSource_String = "OS Weapon"
		},
		EP17_1_SPC07 = {
			ItemID = 23778,
			NeedRefineMin = 0,
			NeedRefineMax = 20,
			NeedOptionNumMin = 0,
			NotSocketEnchantItem = true,
			TargetItems = {
				{ "Cannon_Rapier_OS", 13493 },
				{ "Beam_Claymore_OS", 21047 },
				{ "Rutilus_Stick_OS", 26151 },
				{ "Circuit_Board_OS", 28629 },
				{ "Blasti_OS", 28136 },
				{ "Saphir_Hall_OS", 16088 },
				{ "Virtual_Bow_OS", 18178 },
				{ "MH_P89_OS", 18179 },
				{ "Meuchler_OS", 28038 },
				{ "Burning_Knuckle_OS", 1862 },
				{ "HR_S55_OS", 28253 },
				{ "Kuroiro_OS", 28755 },
				{ "AC_B44_OS", 18180 },
				{ "Boost_Lance_OS", 32019 },
				{ "Ultio_Spes_OS", 16089 },
				{ "ElectricFox_OS", 26164 }
			},
			NeedSource_String = "OS Weapon"
		},
		EP17_1_SPC08 = {
			ItemID = 23779,
			NeedRefineMin = 0,
			NeedRefineMax = 20,
			NeedOptionNumMin = 0,
			NotSocketEnchantItem = true,
			TargetItems = {
				{ "Cannon_Rapier_OS", 13493 },
				{ "Beam_Claymore_OS", 21047 },
				{ "Rutilus_Stick_OS", 26151 },
				{ "Circuit_Board_OS", 28629 },
				{ "Blasti_OS", 28136 },
				{ "Saphir_Hall_OS", 16088 },
				{ "Virtual_Bow_OS", 18178 },
				{ "MH_P89_OS", 18179 },
				{ "Meuchler_OS", 28038 },
				{ "Burning_Knuckle_OS", 1862 },
				{ "HR_S55_OS", 28253 },
				{ "Kuroiro_OS", 28755 },
				{ "AC_B44_OS", 18180 },
				{ "Boost_Lance_OS", 32019 },
				{ "Ultio_Spes_OS", 16089 },
				{ "ElectricFox_OS", 26164 }
			},
			NeedSource_String = "OS Weapon"
		},
		EP17_1_SPC09 = {
			ItemID = 23780,
			NeedRefineMin = 0,
			NeedRefineMax = 20,
			NeedOptionNumMin = 0,
			NotSocketEnchantItem = true,
			TargetItems = {
				{ "Cannon_Rapier_OS", 13493 },
				{ "Beam_Claymore_OS", 21047 },
				{ "Rutilus_Stick_OS", 26151 },
				{ "Circuit_Board_OS", 28629 },
				{ "Blasti_OS", 28136 },
				{ "Saphir_Hall_OS", 16088 },
				{ "Virtual_Bow_OS", 18178 },
				{ "MH_P89_OS", 18179 },
				{ "Meuchler_OS", 28038 },
				{ "Burning_Knuckle_OS", 1862 },
				{ "HR_S55_OS", 28253 },
				{ "Kuroiro_OS", 28755 },
				{ "AC_B44_OS", 18180 },
				{ "Boost_Lance_OS", 32019 },
				{ "Ultio_Spes_OS", 16089 },
				{ "ElectricFox_OS", 26164 }
			},
			NeedSource_String = "OS Weapon"
		},
		EP17_1_SPC10 = {
			ItemID = 23781,
			NeedRefineMin = 0,
			NeedRefineMax = 20,
			NeedOptionNumMin = 0,
			NotSocketEnchantItem = true,
			TargetItems = {
				{ "Cannon_Rapier_OS", 13493 },
				{ "Beam_Claymore_OS", 21047 },
				{ "Rutilus_Stick_OS", 26151 },
				{ "Circuit_Board_OS", 28629 },
				{ "Blasti_OS", 28136 },
				{ "Saphir_Hall_OS", 16088 },
				{ "Virtual_Bow_OS", 18178 },
				{ "MH_P89_OS", 18179 },
				{ "Meuchler_OS", 28038 },
				{ "Burning_Knuckle_OS", 1862 },
				{ "HR_S55_OS", 28253 },
				{ "Kuroiro_OS", 28755 },
				{ "AC_B44_OS", 18180 },
				{ "Boost_Lance_OS", 32019 },
				{ "Ultio_Spes_OS", 16089 },
				{ "ElectricFox_OS", 26164 }
			},
			NeedSource_String = "OS Weapon"
		},
		Ancient_Hero_Bravery = {
			ItemID = 100023,
			NeedRefineMin = 0,
			NeedRefineMax = 20,
			NeedOptionNumMin = 0,
			NotSocketEnchantItem = true,
			TargetItems = {
				{ "Knife", 1201 },
				{ "Royal_Bow_K", 18164 },
				{ "Narcis_Bow", 18170 },
				{ "Shadow_Staff_K", 26118 },
				{ "Iron_Nail_K", 1847 },
				{ "Magic_Sword", 28744 },
				{ "Sword_Of_Bluefire", 13485 },
				{ "Avenger", 28130 },
				{ "Iron_Staff", 2048 },
				{ "Oriental_Sword", 21038 },
				{ "Undine_Spear_K", 32018 },
				{ "Demon_Hunting_Bible_K", 28630 },
				{ "Shiver_Katar_K", 28039 },
				{ "OneSkyOneSun", 28631 },
				{ "SoulWeight", 26154 },
				{ "MeawFoxtail", 26155 },
				{ "Crimson_Rose", 32302 },
				{ "Master_Soul_Rifle", 28255 },
				{ "Demon_S_Shot", 28256 },
				{ "Golden_L_Launcher", 28257 },
				{ "The_Black_Gatling", 28258 },
				{ "Sharp_Wind_Sword", 28763 },
				{ "Fog_Dew_Sword", 28764 },
				{ "Humma_Clear", 13345 },
				{ "Dragonic_Slayer", 600004 },
				{ "Light_Blade", 500003 },
				{ "Slate_Sword", 500004 },
				{ "Trumpet_Shell_K", 570002 },
				{ "Barb_Wire_K", 580002 },
				{ "Meteor_Striker", 590002 },
				{ "Blade_Katar", 610003 },
				{ "Scalet_Dragon_L_Bow", 700003 },
				{ "Fatalist", 510006 },
				{ "Ray_Knuckle", 560002 },
				{ "Saint_Hall", 590003 },
				{ "Blue_Crystal_Staff", 640004 },
				{ "Freezing_Rod", 550007 },
				{ "Up_Oriental_Sword", 600009 },
				{ "Up_Dragonic_Slayer", 21058 },
				{ "Up_Shiver_Katar_K", 610008 },
				{ "Up_Blade_Katar", 610009 },
				{ "Up_Sword_Of_Bluefire", 500013 },
				{ "Up_Slate_Sword", 500014 },
				{ "Up_Narcis_Bow", 700013 },
				{ "Up_Trumpet_Shell_K", 570009 },
				{ "Up_Barb_Wire_K", 580009 },
				{ "Up_Avenger", 620004 },
				{ "Up_Magic_Sword", 510019 },
				{ "Up_Fatalist", 510020 },
				{ "Up_Meteor_Striker", 590011 },
				{ "Up_Royal_Bow_K", 700018 },
				{ "Up_Scalet_Dragon_L_Bow", 700019 },
				{ "Up_Shadow_Staff_K", 550012 },
				{ "Up_Freezing_Rod", 550013 },
				{ "Up_Iron_Nail_K", 560008 },
				{ "Up_Ray_Knuckle", 560009 },
				{ "Up_Undine_Spear_K", 530006 },
				{ "Up_Light_Blade", 500017 },
				{ "Up_Iron_Staff", 640011 },
				{ "Up_Blue_Crystal_Staff", 640012 },
				{ "Up_Demon_Hunting_Bible", 540011 },
				{ "Up_Saint_Hall", 590012 },
				{ "Up_MeawFoxtail", 550014 },
				{ "Up_Fog_Dew_Sword", 510022 },
				{ "Up_Humma_Clear", 650004 },
				{ "Up_Master_Soul_Rifle", 810001 },
				{ "Up_Golden_L_Launcher", 840001 },
				{ "Up_The_Black_Gatling", 830002 },
				{ "Up_Demon_S_Shot", 820001 },
				{ "Up_Crimson_Rose", 800002 },
				{ "Up_OneSkyOneSun", 540010 },
				{ "Up_SoulWeight", 550015 }
			},
			NeedSource_String = "Древнее оружие"
		},
		Ancient_Hero_Wisdom = {
			ItemID = 100025,
			NeedRefineMin = 0,
			NeedRefineMax = 20,
			NeedOptionNumMin = 0,
			NotSocketEnchantItem = true,
			TargetItems = {
				{ "Royal_Bow_K", 18164 },
				{ "Narcis_Bow", 18170 },
				{ "Shadow_Staff_K", 26118 },
				{ "Iron_Nail_K", 1847 },
				{ "Magic_Sword", 28744 },
				{ "Sword_Of_Bluefire", 13485 },
				{ "Avenger", 28130 },
				{ "Iron_Staff", 2048 },
				{ "Oriental_Sword", 21038 },
				{ "Undine_Spear_K", 32018 },
				{ "Demon_Hunting_Bible_K", 28630 },
				{ "Shiver_Katar_K", 28039 },
				{ "OneSkyOneSun", 28631 },
				{ "SoulWeight", 26154 },
				{ "MeawFoxtail", 26155 },
				{ "Crimson_Rose", 32302 },
				{ "Master_Soul_Rifle", 28255 },
				{ "Demon_S_Shot", 28256 },
				{ "Golden_L_Launcher", 28257 },
				{ "The_Black_Gatling", 28258 },
				{ "Sharp_Wind_Sword", 28763 },
				{ "Fog_Dew_Sword", 28764 },
				{ "Humma_Clear", 13345 },
				{ "Dragonic_Slayer", 600004 },
				{ "Light_Blade", 500003 },
				{ "Slate_Sword", 500004 },
				{ "Trumpet_Shell_K", 570002 },
				{ "Barb_Wire_K", 580002 },
				{ "Meteor_Striker", 590002 },
				{ "Blade_Katar", 610003 },
				{ "Scalet_Dragon_L_Bow", 700003 },
				{ "Fatalist", 510006 },
				{ "Ray_Knuckle", 560002 },
				{ "Saint_Hall", 590003 },
				{ "Blue_Crystal_Staff", 640004 },
				{ "Freezing_Rod", 550007 },
				{ "Up_Oriental_Sword", 600009 },
				{ "Up_Dragonic_Slayer", 21058 },
				{ "Up_Shiver_Katar_K", 610008 },
				{ "Up_Blade_Katar", 610009 },
				{ "Up_Sword_Of_Bluefire", 500013 },
				{ "Up_Slate_Sword", 500014 },
				{ "Up_Narcis_Bow", 700013 },
				{ "Up_Trumpet_Shell_K", 570009 },
				{ "Up_Barb_Wire_K", 580009 },
				{ "Up_Avenger", 620004 },
				{ "Up_Magic_Sword", 510019 },
				{ "Up_Fatalist", 510020 },
				{ "Up_Meteor_Striker", 590011 },
				{ "Up_Royal_Bow_K", 700018 },
				{ "Up_Scalet_Dragon_L_Bow", 700019 },
				{ "Up_Shadow_Staff_K", 550012 },
				{ "Up_Freezing_Rod", 550013 },
				{ "Up_Iron_Nail_K", 560008 },
				{ "Up_Ray_Knuckle", 560009 },
				{ "Up_Undine_Spear_K", 530006 },
				{ "Up_Light_Blade", 500017 },
				{ "Up_Iron_Staff", 640011 },
				{ "Up_Blue_Crystal_Staff", 640012 },
				{ "Up_Demon_Hunting_Bible", 540011 },
				{ "Up_Saint_Hall", 590012 },
				{ "Up_MeawFoxtail", 550014 },
				{ "Up_Fog_Dew_Sword", 510022 },
				{ "Up_Humma_Clear", 650004 },
				{ "Up_Master_Soul_Rifle", 810001 },
				{ "Up_Golden_L_Launcher", 840001 },
				{ "Up_The_Black_Gatling", 830002 },
				{ "Up_Demon_S_Shot", 820001 },
				{ "Up_Crimson_Rose", 800002 },
				{ "Up_OneSkyOneSun", 540010 },
				{ "Up_SoulWeight", 550015 }
			},
			NeedSource_String = "Древнее оружие"
		}
	},
	results = {
		EP17_1_SPC05 = { SuccessRate = 10000, RefineProbability = {}, RandomOptionCode = "17WA", FailureItems = {} },
		EP17_1_SPC06 = { SuccessRate = 10000, RefineProbability = {}, RandomOptionCode = "17WB", FailureItems = {} },
		EP17_1_SPC07 = { SuccessRate = 10000, RefineProbability = {}, RandomOptionCode = "17WC", FailureItems = {} },
		EP17_1_SPC08 = { SuccessRate = 10000, RefineProbability = {}, RandomOptionCode = "17MA", FailureItems = {} },
		EP17_1_SPC09 = { SuccessRate = 10000, RefineProbability = {}, RandomOptionCode = "17MB", FailureItems = {} },
		EP17_1_SPC10 = { SuccessRate = 10000, RefineProbability = {}, RandomOptionCode = "17MC", FailureItems = {} },
		Ancient_Hero_Bravery = { SuccessRate = 10000, RefineProbability = {}, RandomOptionCode = "17MC", FailureItems = {} },
		Ancient_Hero_Wisdom = { SuccessRate = 10000, RefineProbability = {}, RandomOptionCode = "17MC", FailureItems = {} }
	},
	serverMain = function()
	for ScrollItemID, info in pairs(tblLapineUpgradeBox.targets) do
		result, msg = registerLapineUpgradeBoxTargetInfo(info.TargetItems, info.NotSocketEnchantItem, info.NeedOptionNumMin, info.NeedRefineMin, ScrollItemID)
		if not result == true then
			return false, msg
		end
	end
	for ScrollItemID, info in pairs(tblLapineUpgradeBox.results) do
		ScrollItemID = info.RandomOptionCode
		info = info.SuccessRate
		result, msg = registerLapineUpgradeBoxResultInfo(info.FailureItems, info.RefineProbability, ScrollItemID, info, ScrollItemID)
		if not result == true then
			return false, msg
		end
	end
	return true, "success"
	ScrollItemID = info.NeedOptionNumMin
	info = info.NeedRefineMin
end,
	get_lapine_box = function(in_box_id)
	for box_name, box_info in pairs(tblLapineUpgradeBox.targets) do
		if box_info.ItemID == in_box_id then
			return box_info
		end
	end
	return nil
end,
	get_min_need_refine = function(in_box_id)
	local box = tblLapineUpgradeBox.get_lapine_box(in_box_id)
	if nil ~= box then
		return box.NeedRefineMin
	end
	return 0
end,
	get_max_need_refine = function(in_box_id)
	local box = tblLapineUpgradeBox.get_lapine_box(in_box_id)
	if nil ~= box and nil ~= box.NeedRefineMax then
		return box.NeedRefineMax
	end
	return 20
end,
	get_min_need_option_num = function(in_box_id)
	local box = tblLapineUpgradeBox.get_lapine_box(in_box_id)
	if nil ~= box then
		return box.NeedOptionNumMin
	end
	return 0
end,
	get_need_source_string = function(in_box_id)
	local box = tblLapineUpgradeBox.get_lapine_box(in_box_id)
	if nil ~= box then
		return box.NeedSource_String
	end
	return 0
end,
	set_resource_item_list = function(in_box_id)
	local box = tblLapineUpgradeBox.get_lapine_box(in_box_id)
	if nil ~= box then
		for k, v in pairs(box.TargetItems) do
			add_ingredient_lapine_upgrade_box(v[2])
		end
	end
end
}
